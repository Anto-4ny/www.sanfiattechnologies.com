<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sanfiat Technologies - Profile</title>
    <meta name="description" content="Sanfiat Technologies offers top-notch products and services advertising.">
    <meta property="og:title" content="Sanfiat Technologies">
    <meta property="og:description" content="Leading provider of products and services advertisment.">
    <meta property="og:image" content="images/Photo_1723191951676.png">
    <meta property="og:url" content="https://sanfiat.antocapteknologies.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="icon" href="images/Photo_1723191951676.png" type="image/x-icon">
    </head>
    <div id="deposit-header" onclick="window.location.href='deposit.html'">
    Deposit
    </div>
    <script type="module">
        import { ensureAuthenticated } from "./script.js";
    
        document.addEventListener("DOMContentLoaded", () => {
            ensureAuthenticated();
        });
    </script>
    
   <header>
    <a href="index">
      <img id="logo" src="images/Photo_1723191951676.png" alt="Logo">
    </a>
  
    <div class="notification-icon">
      <a href="notifications">
        <i class="fas fa-bell"></i>
        <span class="notification-count" id="notification-count">1</span>
      </a>
    </div>
  
    <div class="profile-icon">
      <a href="profile">
        <i class="fas fa-user-circle"></i>
      </a>
    </div>
  
    <button id="hamburger-icon" class="hamburger-menu">
      <i class="fas fa-bars"></i>
    </button>
  </header>
  <div id="balance-section">
      <i class="fas fa-wallet"></i>
      <span>Balance: 250 Ksh</span>
          </div>
  
  <div id="overlay"></div>
  
  <nav id="mobile-nav" class="mobile-nav">
      <h3>Browse Sanfiat</h3>
      <a href="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
      <a href="#" class="has-submenu"><i class="fab fa-whatsapp"></i> WhatsApp Earnings</a>
      <div class="submenu">
        <a href="whatsapp-earnings"><i class="fab fa-whatsapp"></i> Earned</a>
        <a href="packages"><i class="fas fa-box"></i> WhatsApp Packages</a>
        <a href="product"><i class="fas fa-box"></i> Daily Product</a>
        <a href="upload"><i class="fab fa-whatsapp"></i> Screenshot Upload</a>
        <a href="withdrawal"><i class="fas fa-money-check-alt"></i> Withdraw</a>
      </div>
      <a href="packages"><i class="fas fa-box"></i> WhatsApp Packages</a>
      <a href="deposit"><i class="fas fa-wallet"></i> Deposit</a>
      <a href="withdrawal"><i class="fas fa-hand-holding-usd"></i> Withdraw</a>
      <a href="product"><i class="fas fa-box"></i> Products</a>
      <a href="welcome-bonuses"><i class="fas fa-gift"></i> Welcome Bonus</a>
      <a href="cashback-bonuses"><i class="fas fa-coins"></i> Cashback Bonus</a>
      <a href="loans"><i class="fas fa-money-check-alt"></i> Loans</a>
      <a href="profile"><i class="fas fa-user"></i> Profile</a>
      <button type="button" id="logout-button"><i class="fas fa-sign-out-alt"></i> Log Out</button>
      </nav>    
<body>
<div class="profile-container">
    <h2>User Profile</h2>
    <div class="profile-picture-section">
        <img id="user-profile-picture" src="images/images.jpeg" alt="Profile Picture">
        <button id="change-profile-pic-btn">Change Profile Picture</button>
        <input type="file" id="upload-user-profile-pic" style="display: none;">
    </div>

    <form id="user-profile-form">
        <div class="form-group" style="background-color: #f8d7da;">
            <div class="icon-container">
                <i class="fas fa-user"></i>
            </div>
            <label for="user-full-name">Full Name:</label>
            <span id="user-full-name" class="editable" contenteditable="true"></span>
        </div>
        <div class="form-group" style="background-color: #d1ecf1;">
            <div class="icon-container">
                <i class="fas fa-envelope"></i>
            </div>
            <label for="user-email">Email:</label>
            <span id="user-email" class="editable" contenteditable="false"></span>
        </div>
        <div class="form-group" style="background-color: #fff3cd;">
            <div class="icon-container">
                <i class="fas fa-users"></i>
            </div>
            <label for="user-referral-count">Referral Count:</label>
            <span id="user-referral-count" class="editable" contenteditable="false"></span>
        </div>
        <div class="form-group" style="background-color: #d4edda;">
            <div class="icon-container">
                <i class="fas fa-eye"></i>
            </div>
            <label for="user-total-views">Total Views:</label>
            <span id="user-total-views" class="editable" contenteditable="false"></span>
        </div>
        <div class="form-group" style="background-color: #cce5ff;">
            <div class="icon-container">
                <i class="fas fa-dollar-sign"></i>
            </div>
            <label for="user-total-earnings">Total Earnings:</label>
            <span id="user-total-earnings" class="editable" contenteditable="false"></span>
        </div>
        <div class="form-group" style="background-color: #f8d7da;">
            <div class="icon-container">
                <i class="fas fa-money-bill-wave"></i>
            </div>
            <label for="user-amount-paid">Amount Paid:</label>
            <span id="user-amount-paid" class="editable" contenteditable="false"></span>
        </div>
        <div class="form-group" style="background-color: #d1ecf1;">
            <div class="icon-container">
                <i class="fas fa-gift"></i>
            </div>
            <label for="user-package-status">Package Status:</label>
            <span id="user-package-status" class="editable" contenteditable="false"></span>
        </div>
        <button type="button" id="save-user-profile-btn">Save Changes</button>
    </form>
</div>

<div style="
display: flex; 
flex-direction: column; 
align-items: stretch; 
padding: 20px; 
border: 2px solid #ddd; 
border-radius: 10px; 
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); 
max-width: 600px; 
margin: auto; 
background: #f9f9f9;
">
    
    <!-- Referral Link Section -->
    <div style="
    display: flex; 
    align-items: center; 
    margin-bottom: 20px;
  ">
    <h3 style="
      margin-right: 10px; 
      font-size: 16px; 
      color: #333; 
      flex-shrink: 0;
    ">
      Your Link:
    </h3>
    <p id="referral-link" style="
      flex-grow: 1; 
      white-space: nowrap; 
      overflow: hidden; 
      text-overflow: ellipsis; 
      margin: 0; 
      padding: 5px 10px; 
      border: 1px solid #ddd; 
      border-radius: 5px; 
      background: #fff;
      font-size: 14px; 
      color: #555;
    ">
      <!-- Referral link goes here -->
    </p>
    <button id="copy-link-button" style="
      margin-left: 10px; 
      padding: 5px 10px; 
      font-size: 14px; 
      color: #fff; 
      background: #007bff; 
      border: none; 
      border-radius: 5px; 
      cursor: pointer;
    ">
      Copy
    </button>
    <a id="whatsapp-share-button" class="button" target="_blank" style="
      margin-left: 10px; 
      display: inline-block; 
      padding: 5px 10px; 
      background: #25D366; 
      border-radius: 5px; 
      text-decoration: none; 
      color: #fff;
    ">
      <i class="fab fa-whatsapp" style="
        font-size: 18px; 
      "></i>
    </a>
  </div>

  <!-- Referred Friends Section -->
  <h3 style="
    margin-bottom: 10px; 
    font-size: 16px; 
    color: #333; 
    text-align: center;
  ">
    Your Referred Friends
  </h3>
  <div style="
    overflow-x: auto;
  ">
    <table style="
      width: 100%; 
      border-collapse: collapse; 
      font-size: 14px; 
      text-align: left;
    ">
      <thead>
        <tr>
          <th style="
            padding: 10px; 
            border-bottom: 2px solid #ddd;
            background: #f1f1f1;
            color: #555;
          ">
            Email
          </th>
          <th style="
            padding: 10px; 
            border-bottom: 2px solid #ddd;
            background: #f1f1f1;
            color: #555;
          ">
            Status
          </th>
        </tr>
      </thead>
      <tbody id="referred-users-list">
        <!-- Referred users will be dynamically inserted here -->
      </tbody>
    </table>
  </div>
</div>              

    <footer>
    <div class="footer">
        <div class="footer-item">
            <a href="dashboard">
                <i class="fas fa-home footer-icon"></i>
                <span>Home</span>
            </a>
        </div>
        <div class="footer-item">
            <a href="deposit">
                <i class="fas fa-money-bill-alt footer-icon"></i> <!-- Changed to a money icon for deposit -->
                <span>Deposit</span>
            </a>
        </div>
        <div class="footer-item">
            <a href="packages">
                <i class="fas fa-box-open footer-icon"></i> <!-- Changed to a box open icon for packages -->
                <span>Packages</span>
            </a>
        </div>
        <div class="footer-item">
            <a href="dashboard">
                <i class="fas fa-tachometer-alt footer-icon"></i>
                <span>Dashboard</span>
            </a>
        </div>
        <div class="footer-item">
            <a href="profile">
                <i class="fas fa-user-circle footer-icon"></i> <!-- Changed to a user circle icon for profile -->
                <span>Profile</span>
            </a>
        </div>
    </div>
    
    <div class="Button">
        <a href="deposit">
            <p class="post-btn">
                <i class="fa fa-plus-square"></i>
            </p>
        </a>
    </div>
    </footer>

    <p class="copyright-text">&copy; 2024 Sanfiat Technologies. All rights reserved.</p>
    <script type ="module" src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js"></script>
    <script type ="module" src="https://www.gstatic.com/firebasejs/10.12.5/firebase-analytics.js"></script>
    <script type ="module" src="https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js"></script>
    <script type ="module" src="https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore.js"></script>
    <script type ="module" src="https://www.gstatic.com/firebasejs/10.12.5/firebase-storage.js"></script>
    
    <!-- Your custom script using Firebase -->
    <script type="module" src="script.js"></script>
</body>
</html>
